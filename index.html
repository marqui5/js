<html>
<head>
<!--
<script src="https://cdn.bootcss.com/vConsole/3.2.0/vconsole.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
-->
<script src="./vconsole.min.js"></script>
<script src="./sieve.js"></script>
<script src="./linear.js"></script>
<script src="./es6prime.js"></script>
<script>
  	var vConsole = new VConsole();
  	console.log('Hello world');
</script>
</head>
<body>
<h1>
	prime numbers within n
</h1>
<p>
<a id = "prompt">Please input a range.</a>
</p>
<input id = "range"  type="text" value="">
<p>
<input type="button" onclick="normal()" value="Run as normal method">
<input type="button" onclick="sieve()" value="Run  as sieve of Eratosthenes">
</p>
<p>
<input type="button" onclick="linear()" value="Run as sieve of Euler">
<input type="button" onclick="es6prime()" value="Run as sieve of ES6">
</p>
<p>
<a id = "normalResult"></a>
</p>
<p>
<a id = "sieveResult"></a>
</p>
<p>
<a id = "linearResult"></a>
</p>
<p>
<a id = "es6Result"></a>
</p>
<script>
	function getPrime(n) {
		var arr = [n]
		for(let i = 0; i < n; i++) arr[i] = i + 1;
		return arr.filter(x => {
			for(let j = 2; j <= Math.sqrt(x); j++) {
			//for(let j = 2; j * j <= x; j++) {
				if(x % j == 0) return false;
				}
			return x > 1;
		}).toString();
	}
	function normal() {
		let n = parseInt(document.getElementById('range').value);
		let start = Date.now();
		let prime = getPrime(n);
		let stop = Date.now();
		document.getElementById('normalResult').innerHTML = "time: " + (stop - start) + " | normal: " + prime;
	}
	function sieve() {
		let n = parseInt(document.getElementById('range').value);
		let start = Date.now();
		let prime = sievePrime(n);
		let stop = Date.now();
		document.getElementById('sieveResult').innerHTML = "time: " + (stop - start) + " | sieve: " + prime;
	}
	function linear() {
		let n = parseInt(document.getElementById('range').value);
		let start = Date.now();
		let prime = linearPrime(n);
		let stop = Date.now();
		document.getElementById('linearResult').innerHTML = "time: " + (stop - start) + " | linear: " + prime;
	}
	function es6prime() {
		let n = parseInt(document.getElementById('range').value);
		let start = Date.now();
		let prime = es6Prime(n);
		let stop = Date.now();
		document.getElementById('es6Result').innerHTML = "time: " + (stop - start) + " | es6prime: " + prime;
	}
</script>
</body>
</html>
